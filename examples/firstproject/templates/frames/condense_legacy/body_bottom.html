{% load static %}


{% if profile.calls_provider and profile.calls_provider == 'nice' %}
    {% include "core/users/nice_modal.html" %}
{% endif %}

</div>

{% block action-content %} {% endblock %}


<!-- common functions -->
<script src="{% static 'js/2.22.0/common.min.js' %}"></script>
<script src="{% static 'js/jquery-ui.min.js' %}"></script>

<!-- uikit functions -->
<script src="{% static 'js/uikit_custom.js' %}"></script>
<!-- altair common functions/helpers -->
<script src="{% static 'js/altair_admin_common.min.js' %}"></script>

<script src="{% static 'js/jquery.dataTables.min.js' %}"></script>

<script src="{% static 'js/datatables_uikit.min.js' %}"></script>

<script src="{% static 'daterangepicker/jquery.comiseo.daterangepicker.min.js' %}"></script>

<!--     <script src="{% static 'js/c3.min.js' %}"></script>

<script src="{% static 'js/dropify.min.js' %}"></script>
-->
<!--FormValidation -->
<script src="{% static 'js/formvalidation/formValidation.min.js' %}"></script>
<script src="{% static 'js/formvalidation/framework/uikit.min.js' %}"></script>

<!--Chosen -->

<script src="{% static 'js/fontawesome/74b87f1292.js' %}"></script>

<!-- preloader script -->
<script type="text/javascript">
    $(window).on('load', function () {
        $('#status').fadeOut();
        $('#preloader').delay(350).fadeOut('slow');
        $('body').delay(350).css({ 'overflow': 'visible' });
    })
</script>

<script src="{% static 'js/validation_helper_zelthybase.js' %}"></script>
<script src="{% static 'js/components_notifications.min.js' %}"></script>
<script src="{% static 'select2/js/select2.min.js' %}"></script>

<!--     function to initialize select2 for select form elements -->
<script>
    $(document).ready(
        function () {
            var ele = $(".select");
            for (var i = 0; i < ele.length; i++) {
                var id = "#".concat(ele[i].id);
                var placeholder = ele[i].getAttribute("placeholder");
                if ($(id)[0].getAttribute('readonly') != 'readonly') {
                    $(id).select2({
                        placeholder: placeholder,
                        allowClear: true
                    });
                }
            }
        });
</script>

<!-- Script to to add placeholder to input type-->
<script>
    $(document).ready(
        function () {
            let fileElement = $('input[type="file"]');
            for (var i = 0; i < fileElement.length; i++) {
                let fileId = fileElement[i].id;
                let placeholder = fileElement[i].getAttribute("label1");
                $(`#${fileId}`).wrap(`<div class="upload-container">
                                                <div class="upload-btn-wrapper">
                                                    <button class="upload-btn" id="upload-btn-${fileId}">${placeholder}</button>
                                                </div>
                                                <div class="file-name-container">
                                                    <span class="file-return" id="file-return-${fileId}">
                                                        No file chosen                                                        
                                                    </span>
                                                </div>
                                            </div>`)
                $(`#${fileId}`).on("change", function (event) {
                    if (this.value) {
                        $(`#clear-icon-${fileId}`).remove();
                        document.querySelector(`#file-return-${fileId}`).innerHTML = this.value.split('\\').pop();
                        $(`#file-return-${fileId}`).after(`<i class="fa fa-times input-clear-icon" id="clear-icon-${fileId}" aria-hidden="true"></i>`);
                    } else {
                        document.querySelector(`#file-return-${fileId}`).innerHTML = 'No file chosen';
                        $(`#clear-icon-${fileId}`).remove();
                    }
                });
                $(document).on('click', `#upload-btn-${fileId}`, function () {
                    $(this).removeClass('disabled');
                });
                $(document).on('click', `#clear-icon-${fileId}`, function () {
                    $(`#${fileId}`).val('');
                    $(`#${fileId}`).trigger('change');
                });

            }
        }
    );
</script>

<script>
    // script to replace input field with select field from config provided in admin panel

    $(document).ready(function () {
        const inputElements = $('[data-convert-select]');

        if (inputElements.length > 0) {
            inputElements.each(async function () {
                const element = $(this);
                const selectConfig = Function('"use strict";return (' + element.attr('data-convert-select') + ')')();
                const attributesList = {};
                let optionsData = {};

                Object.values(element.get(0).attributes)
                    .forEach(attr => {
                        if (attr.name === 'data-convert-select' || attr.name === 'class') {
                            return;
                        } else {
                            attributesList[attr.name] = attr.value
                        }
                    });

                if (selectConfig.url) {
                    // if options are to be taken from an API
                    const apiResponse = await fetch(selectConfig.url);
                    const jsonResponse = await apiResponse.json();
                    optionsData = jsonResponse;

                } else if (selectConfig.options) {
                    if (typeof selectConfig.options[0] === 'string') {
                        // if options are regular arrays
                        const optionsArray = selectConfig.options;
                        optionsData.results = optionsArray.map(option => {
                            return {
                                id: option,
                                text: option
                            }
                        });
                    } else {
                        // if options are array of objects
                        optionsData.results = selectConfig.options;
                    }
                }

                // replace char field with select field
                element
                    .replaceWith(
                        `<select
                        class="md-input" id="${attributesList['id']}"
                        ${selectConfig.multiSelect ? `multiple="multiple"` : ''}>
                        <option></option>
                    </select>`
                    ).append(function () {
                        const selectElement = $(`#${attributesList['id']}`);
                        const defaultValue = selectConfig.defaultValue || optionsData.defaultValue || undefined;

                        Object.keys(attributesList).forEach(attr => {
                            if (attr !== 'label1') {
                                selectElement.attr(attr, attributesList[attr]);
                            }
                        });
                        $(`[for=${attributesList['id']}`).remove();
                        selectElement.select2({
                            placeholder: attributesList['label1'],
                            allowClear: true,
                            data: optionsData.results,
                            tags: selectConfig.allowCustomOption || false,
                            multiple: selectConfig.multiSelect || false,
                        });
                        if ($(element).val()) {
                            selectElement.val($(element).val()).select2()
                        }


                        // Add default value to select if provided
                        if (defaultValue) {
                            selectElement.val(defaultValue);
                            selectElement.trigger('change');
                        }

                        // add field to form validation again since old field got deleted
                        const fv = $(`#${selectElement.closest('form').attr('id')}`).data('formValidation');
                        fv.addField(attributesList.name);
                    });
            });
        }
    });
</script>

<script>
    // script to replace input field with datetime field from config provided in admin panel
    $(document).ready(function () {
        const inputElements = $('[data-convert-datetime]');

        if (inputElements.length > 0) {
            inputElements.each(function () {
                const element = $(this);
                const dateTimeConfig = Function('"use strict";return (' + element.attr('data-convert-datetime') + ')')();
                const attributesList = {};
                let optionsData = dateTimeConfig.options || {};

                Object.values(element.get(0).attributes)
                    .forEach(attr => {
                        if (attr.name === 'data-convert-datetime' || attr.name === 'class') {
                            return;
                        } else {
                            attributesList[attr.name] = attr.value
                        }
                    });

                // replace char field with datetime field
                element
                    .replaceWith(
                        `<input readonly="readonly" class="md-input" id="${attributesList['id']}">
                    <span title="Clear Field" class="clear-datetime" style="display:inline-block;cursor:pointer;font-weight:bold;">&times;</span>`
                    ).append(function () {
                        const dateTimeElement = $(`#${attributesList['id']}`);
                        Object.keys(attributesList).forEach(attr => {
                            dateTimeElement.attr(attr, attributesList[attr]);
                        });

                        if (dateTimeConfig.type === 'date') {
                            UIkit.datepicker(dateTimeElement, optionsData);
                        } else if (dateTimeConfig.type === 'time') {
                            UIkit.timepicker(dateTimeElement, optionsData);
                        }

                        // add field to form validation again since old field got deleted
                        const fv = $(`#${dateTimeElement.closest('form').attr('id')}`).data('formValidation');
                        fv.addField(attributesList.name);

                        $('.clear-datetime').click(function () {
                            dateTimeElement.val('').trigger('change');
                            dateTimeElement.blur();
                        });
                    });
            });
        }
    });
</script>

<!--     function to initialize select2 for multi-select form elements -->
<script>
    $(document).ready(function () {
        var ele = $(".multi-select");
        for (var i = 0; i < ele.length; i++) {
            var id = "#".concat(ele[i].id);
            var placeholder = ele[i].getAttribute("placeholder");
            $(id).select2({
                placeholder: placeholder
            });
        }

    });
</script>

<!--     Intializes month selector in reconciliation pages -->
<script>
    $("#period").datepicker({
        changeMonth: true,
        changeYear: true,
        showButtonPanel: true,
        dateFormat: 'MM yy',
        onClose: function (dateText, inst) {
            $(this).datepicker('setDate', new Date(inst.selectedYear, inst.selectedMonth, 1));
        }
    });

</script>

<!-- Make Datepicker Clearable with clear:clear -->
<script>
    function setCookie(cname, cvalue, exdays) {
        const d = new Date();
        d.setTime(d.getTime() + (exdays*24*60*60*1000));
        let expires = "expires="+ d.toUTCString();
        document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
    }
    function ingnoreDevCookie() {
        localStorage.setItem('ignore_dev_cookie', 'yes')
        location.reload()
    }
    function deleteDevCookie() {
        document.cookie = 'ZelthyDynamicCookie=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';
        location.reload()
    }
    function saveCookie() {
        if ($('#dev_id').val()) {
            let branch_name = $('#branch_name').val()
            if (!$('#branch_name').val())
                branch_name = null;
            setCookie('ZelthyDynamicCookie', JSON.stringify({dev_id: $('#dev_id').val(), branch: branch_name}), 100)
            localStorage.removeItem('ignore_dev_cookie')
            location.reload()
        } else {
            alert("Dev ID is compulsory")
        }
    }
    $(document).ready(
        function () {
            let ignore_dev_cookie = localStorage.getItem('ignore_dev_cookie')
            if ("{{env}}" == "dev" && !ignore_dev_cookie) {
                let dynamicCookieValue = document.cookie.match('(^|;)\\s*ZelthyDynamicCookie\\s*=\\s*([^;]+)')?.pop() || ''
                if(!dynamicCookieValue){
                    UIkit.modal('#dynamic-cookie-modal').show()
                    $('.delete-cookie').hide()
                }else{
                    let obj_dynamicCookieValue = JSON.parse(dynamicCookieValue)
                    $('#dev_id').val(obj_dynamicCookieValue.dev_id).change();
                    $('#branch_name').val(obj_dynamicCookieValue.branch).change();
                    $('.delete-cookie').show()
                }
            }
            var ele = $(".dateinput");
            for (var i = 0; i < ele.length; i++) {
                if (ele[i].val != "") { }
                var clear = ele[i].getAttribute("clear");
                var e = ele[i];
                if (clear == "clear") {
                    ele[i].outerHTML = ele[i].outerHTML +
                        `<span title="Clear Field" class="clearBtn" style="display:inline-block;cursor:pointer;font-weight:bold;" onclick="clearField(this);">&times;</span>`;
                }
            }
        });
    function clearField(clearBtn) {
        var e = clearBtn.previousElementSibling;
        e.value = ""
        e.focus();
        e.blur();
    }
</script>
<script>
    window.onload = (event) => {
        function iniFrame() {
            if ( window.location !== window.parent.location && window.parent.location.href.indexOf('/customization/zelthy-customization-panel/') <= 0 )
            {
                $("#header_main").hide();
                $("#sidebar_main").hide();
                $("#page_content").css({"margin":"0px"});
                $(".sidebar_main_open").css({"padding":"0px"});
                $("#page_content_inner").addClass("iframe_page_content_inner");
                $("#page_heading").find("span").find("a:contains(BACK)").hide();

                $(".md-input-wrapper").find("label").addClass("iframe-label");
                $(".md-input-filled").find("label").addClass("iframe-filled-label");
                $(".md-input-focus").find("label").addClass("iframe-focus-label");
                $(".md-input-wrapper").find("input").addClass("iframe-input");
                $(".fv-form-uikit").find(".fv-control-feedback").addClass("iframe-feedback");
                $("form").addClass("iframe-form");
                $("#page_heading").addClass("iframe-page_heading");
                $("form").find(".uk-button-link:contains('PREVIOUS')").hide();
                $("form").find(".uk-button-link:contains('NEXT')").html("SUBMIT");
            }
        }

        $(".md-input-wrapper").find("label").addClass("iframe-label");
        $(".md-input-filled").find("label").addClass("iframe-filled-label");
        $(".md-input-focus").find("label").addClass("iframe-focus-label");
        $(".md-input-wrapper").find("input").addClass("iframe-input");
        $(".fv-form-uikit").find(".fv-control-feedback").addClass("iframe-feedback");
        $(".selection").parents(".uk-width-large-1-3").css({"display": "flex", "flex-direction": "column", "justify-content": "flex-end"})
        
        if (window.parent.$("#table-iframe-modal").hasClass("uk-open")) {
            if ( window.location !== window.parent.location )
            {
                if(window.location.href == window.parent.location.href){
                    window.parent.$("#table-iframe").hide();
                    window.parent.$(".iframe-form-success-box").show();
                    window.parent.$('#table-iframe-modal').on({
                        'show.uk.modal': function(){
                        },
                        'hide.uk.modal': function(){
                            window.parent.location.reload();
                        }
                    });
                }
            }
        }

        // Calling iniFrame function
        iniFrame();

        let primaryTextColor = "{{profile.user_role_frame.config.frame_config.cta_text_color.color}}";
        let table = $('#zelthytable').DataTable();
        let isFirstFilterEleDate = $("tfoot tr").find('th:visible:first, button:visible:first').first().hasClass("comiseo-daterangepicker-triggerbutton");
        if(isFirstFilterEleDate){
            $("tfoot tr").find('th:visible:first, button:visible:first').first().addClass("first-filter-ele-date");
        } else {
            $("tfoot tr").find('th:visible:first, button:visible:first').first().not(".comiseo-daterangepicker-triggerbutton").addClass("first-filter-ele");
        }
        
        $('#zelthytable_length label').addClass("uk-pagination-count").hide();
        $("#zelthytable").parents(".md-card-content").css({"padding":"0px"}).parents(".md-card").css({"box-shadow":"none", "margin":"24px -24px", "border":"0px"});
        $("#zelthytable_processing").html(`<div class="zelthytable_processing_box"><div class="zelthytable_processing_loader"></div></div>`);
        $("#loading").html(``);
        $("tfoot tr").find('button:visible').wrap( `<th rowspan="1" colspan="1"></th>` );
        
        $("tfoot tr").find('th:visible').each(function(index){
            if($(this).find('button:visible').hasClass("comiseo-daterangepicker-triggerbutton")){
                let id = $(this).find('button:visible').attr("id");
                let initialText = $(`#${id}`).find(".ui-button-text").text();
                $(`#${id}`).daterangepicker({
                    initialText : initialText,
                    datepickerOptions : {
                        numberOfMonths : 2,
                        maxDate: null
                    }
                });

                if(initialText.indexOf('date') <= 0 && initialText.indexOf('Date') <= 0){
                    let dates = initialText.split(' - ');
                    let startDate = moment(dates[0], "MMM D, YYYY").toDate();
                    let endDate = '';
                    if(dates[1]){
                        endDate = moment(dates[1], "MMM D, YYYY").toDate();
                        $(`#${id}`).daterangepicker("setRange", {start: startDate, end: endDate});
                    } else {
                        $(`#${id}`).daterangepicker("setRange", {start: startDate});
                    }
                }
                
                $("tfoot").find(".ui-button-text:contains(Select)").hide();
                $("tfoot").find(".ui-button-text:contains(Search)").hide();
                
                $(`#${id}`).on('change', function(event) {
                    let val = $(this).val();
                    $(this).find(".ui-button-text").html("");
                    $("tfoot").find(".ui-button-text:not(:contains(Select),:contains(Search))").show();                        
                    search_column = table.column(index);
                    search_column
                        .search(val)
                        .draw();    
                });
            }
        });
        
        table.on('draw', function(){
            addChanges();

            $('#zelthytable_length label').show().prependTo('#zelthytable_paginate');
            setTimeout(() => {
                $(".selectize-input").find("input").attr("disabled", true)
            }, "100")
        });

        table.on('preDraw', function(){
            $("tfoot").find(".ui-button-text:contains(Search by)").hide();
            $("tfoot").find(".ui-button-text:contains(Select)").hide();
            $("tfoot").find(".ui-button-text:not(:contains(Search by))").show();
            setTimeout(() => {
                $(".selectize-input").find("input").attr("disabled", true)
            }, "100")
            $('#zelthytable_paginate label').hide().prependTo('#zelthytable_length');
        });

        $("#excel_download").find("img[title='Export']").attr({"src":"{% static 'frames/condense_legacy/img/condense_table_download.svg' %}", "width":"20.57px", "height":"19.62px"}).parents(".uk-push-1-2").css({"left":"0"}).parents(".uk-grid").css({"background-color":"#F0F3F4", "padding": "13px 32px", "margin": "auto", "justify-content":"flex-end"});
        $("#excel_download").find("a").addClass("excel-download-box").prepend('<span class="excel-download-title">Download</span>');
        $("#excel_download").parents(".uk-width-small-1-2").css({"width": "fit-content"});
        $("#excel_download").before(`<div data-uk-dropdown="{mode:'click', pos:'bottom-right'}" style="position: relative !important;">
            <div class="excel-download-box"><span class="excel-download-title">Download</span><img src="{% static 'frames/condense_legacy/img/condense_table_download.svg' %}" aria-hidden="true" width="20.57px" height="19.62px"></div>
            <div class="uk-dropdown download-excel-dropdown-box">
                <div class="download-excel-dropdown">
                    <span class="download-excel-dropdown-title">
                        <span>The report will be available in <b>‘My Downloads’</b> in <b>30 min.</b></span>
                        </br>
                        <span>Confirm if you want to proceed with download?</span>
                    </span>
                    <button class="download-excel-dropdown-button" onclick="ExcelURL();return false;">Download</button>    
                </div>
            </div>
            </div>
        ` );
        $("#excel_download").hide();

        $(".uk-notify").find(".notify-action").on("click", function(e){
            e.preventDefault();
            $(this).parents(".uk-notify-message").remove();
        })

        //Add button changes
        $("#page_content_inner").find(".material-icons:contains(add)").parents(".uk-button-primary").append(`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12.3077 15.5656C13.1721 15.5656 14.0008 15.2225 14.6116 14.6116C15.2225 14.0008 15.5656 13.1721 15.5656 12.3077V3.25792C15.5656 2.39355 15.2225 1.56482 14.6116 0.953971C14.0008 0.343124 13.1721 0 12.3077 0H3.25792C1.45895 0 0 1.45895 0 3.25792V12.3077C0 13.1721 0.343098 14.0008 0.953971 14.6116C1.56484 15.2225 2.39355 15.5656 3.25792 15.5656H12.3077ZM20 3.25792V14.2986C20 15.8105 19.3993 17.2613 18.3303 18.3304C17.2613 19.3995 15.8105 20 14.2986 20H3.25787C2.80786 20 2.44339 19.6356 2.44339 19.1856C2.44339 18.7356 2.80786 18.3711 3.25787 18.3711H14.2986C15.3788 18.3711 16.4142 17.9425 17.1778 17.1779C17.9424 16.4143 18.371 15.3789 18.371 14.2987V3.25794C18.371 2.80793 18.7355 2.44346 19.1855 2.44346C19.6355 2.44346 20 2.80791 20 3.25792ZM3.71041 7.7828C3.71041 7.7828 4.07488 6.96833 4.52489 6.96833C4.9749 6.96833 6.96833 6.96833 6.96833 6.96833V4.52489C6.96833 4.07488 7.3328 3.71041 7.78281 3.71041C8.23282 3.71041 8.59729 4.07488 8.59729 4.52489V6.96833H11.0407C11.4907 6.96833 11.8552 7.33279 11.8552 7.7828C11.8552 8.23281 11.4907 8.59729 11.0407 8.59729H8.59729V11.0407C8.59729 11.4907 8.23282 11.8552 7.78281 11.8552C7.3328 11.8552 6.96833 11.4907 6.96833 11.0407V8.59729C6.96833 8.59729 4.9749 8.59729 4.52489 8.59729C4.07488 8.59729 3.71041 7.7828 3.71041 7.7828Z" fill="${primaryTextColor}"/>
            </svg>
        `);

        $("form").find(".uk-button-link:contains('PREVIOUS')").addClass("custom-previous-button").html(`<div><svg width="16" height="14" viewBox="0 0 16 14" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M15 6.00028H3.14L6.77 1.64028C6.93974 1.43606 7.0214 1.17278 6.99702 0.908352C6.97264 0.643926 6.84422 0.400014 6.64 0.230276C6.43578 0.0605371 6.1725 -0.0211248 5.90808 0.00325494C5.64365 0.0276347 5.39974 0.156059 5.23 0.360276L0.23 6.36028C0.196361 6.408 0.166279 6.45814 0.14 6.51028C0.14 6.56028 0.14 6.59028 0.0700002 6.64028C0.0246737 6.75493 0.000941121 6.87699 0 7.00028C0.000941121 7.12356 0.0246737 7.24562 0.0700002 7.36028C0.0700002 7.41028 0.0699999 7.44028 0.14 7.49028C0.166279 7.54242 0.196361 7.59255 0.23 7.64028L5.23 13.6403C5.32402 13.7532 5.44176 13.8439 5.57485 13.9062C5.70793 13.9684 5.85309 14.0005 6 14.0003C6.23365 14.0007 6.46009 13.9194 6.64 13.7703C6.74126 13.6863 6.82496 13.5832 6.88631 13.4669C6.94766 13.3505 6.98546 13.2232 6.99754 13.0922C7.00961 12.9613 6.99573 12.8292 6.95669 12.7036C6.91764 12.578 6.8542 12.4613 6.77 12.3603L3.14 8.00028H15C15.2652 8.00028 15.5196 7.89492 15.7071 7.70738C15.8946 7.51985 16 7.26549 16 7.00028C16 6.73506 15.8946 6.48071 15.7071 6.29317C15.5196 6.10563 15.2652 6.00028 15 6.00028Z" fill="#5048ED"/>
        </svg></div>`);

        $("#page_content_inner").find(".material-icons:contains(add)").parents(".uk-button-primary").css({"display": "flex", "align-items": "center", "gap": "8px"}).parents(".uk-width-large-1-2").css({"display": "flex", "justify-content": "flex-end"});
        let addButtonHref = $("#page_content_inner").find(".material-icons:contains(add)").parents(".uk-button-primary").attr("href");
        let isModalHref = /^#/.test(addButtonHref);
        if(!isModalHref){
            $("#table_div").append(`<div id="table-iframe-modal" class="uk-modal table-iframe-modal">
                <div class="uk-modal-dialog">
                    <a class="uk-modal-close uk-close">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.7213 1.22117L10.5168 8.42571C10.2219 8.72061 9.75409 8.72061 9.48417 8.42571L2.27865 1.22117C1.98375 0.926275 1.51593 0.926275 1.24601 1.22117C0.951112 1.51607 0.951112 1.9839 1.24601 2.25382L8.45153 9.45933C8.74643 9.75423 8.74643 10.2221 8.45153 10.492L1.22117 17.7213C0.926275 18.0162 0.926275 18.4841 1.22117 18.754C1.51607 19.0489 1.9839 19.0489 2.25382 18.754L9.45933 11.5485C9.75423 11.2536 10.2221 11.2536 10.492 11.5485L17.7213 18.7788C18.0162 19.0737 18.4841 19.0737 18.754 18.7788C19.0489 18.4839 19.0489 18.0161 18.754 17.7462L11.5736 10.5158C11.2787 10.2209 11.2787 9.7531 11.5736 9.48319L18.7791 2.27767C19.074 1.98277 19.074 1.51494 18.7791 1.24503C18.4842 0.950129 18.0173 0.950129 17.7214 1.22101L17.7213 1.22117Z" fill="black" stroke="black" stroke-width="0.4"/>
                        </svg>
                    </a>
                    <iframe id="table-iframe" src="${addButtonHref}" title="Table Iframe" width="100%" height="100%"></iframe>
                    <div class="iframe-form-success-box" style="display: none;">
                        <div class="iframe-form-success-inner-box">
                            <div class="iframe-success">
                                <svg width="88" height="88" viewBox="0 0 88 88" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <g id="Group 4">
                                    <circle id="Oval" cx="44" cy="44" r="44" fill="#D2ECD1"/>
                                    <circle id="Oval_2" cx="44" cy="44" r="28" fill="#1EA41D"/>
                                    <path id="Icon" d="M57.2976 31.394C57.964 30.7049 59.0444 30.7049 59.7108 31.394C60.3772 32.083 60.3772 33.2002 59.7108 33.8892L39.2344 55.0622C38.568 55.7512 37.4876 55.7512 36.8212 55.0622L28.2893 46.2401C27.623 45.5511 27.623 44.4339 28.2893 43.7449C28.9557 43.0558 30.0361 43.0558 30.7025 43.7449L38.0278 51.3193L57.2976 31.394Z" fill="white"/>
                                    </g>
                                </svg>
                            </div>
                            <h3 class="iframe-success-title">Submitted form successfully</h3>
                        </div>
                    </div>
                </div>
            </div>`);
            $("#page_content_inner").find(".material-icons:contains(add)").parents(".uk-button-primary").attr({"href": "#table-iframe-modal", "data-uk-modal" : true });
            $("#page_content_inner").find(".material-icons:contains(add)").hide();
        } else {
            $("#page_content_inner").find(".material-icons:contains(add)").parents(".uk-button-primary").attr({"data-uk-modal" : true });
        }

        
        $("table").parents(".md-card").addClass("table-md-card");
        
        document.documentElement.style.setProperty('--badge_color', "{{profile.user_role_frame.config.frame_config.badge_color.color}}");
        document.documentElement.style.setProperty('--badge_color_light', hexToRgb("{{profile.user_role_frame.config.frame_config.badge_color.color}}", 0.1));
        document.documentElement.style.setProperty('--badge_color_primary', "{{profile.user_role_frame.config.frame_config.badge_color_primary.color}}");
        document.documentElement.style.setProperty('--badge_color_primary_light', hexToRgb("{{profile.user_role_frame.config.frame_config.badge_color_primary.color}}", 0.1));
        document.documentElement.style.setProperty('--badge_color_danger', "{{profile.user_role_frame.config.frame_config.badge_color_danger.color}}");
        document.documentElement.style.setProperty('--badge_color_danger_light', hexToRgb("{{profile.user_role_frame.config.frame_config.badge_color_danger.color}}", 0.1));
        document.documentElement.style.setProperty('--badge_color_warning', "{{profile.user_role_frame.config.frame_config.badge_color_warning.color}}");
        document.documentElement.style.setProperty('--badge_color_warning_light', hexToRgb("{{profile.user_role_frame.config.frame_config.badge_color_warning.color}}", 0.1));
        document.documentElement.style.setProperty('--badge_color_success', "{{profile.user_role_frame.config.frame_config.badge_color_success.color}}");
        document.documentElement.style.setProperty('--badge_color_success_light', hexToRgb("{{profile.user_role_frame.config.frame_config.badge_color_success.color}}", 0.1));
        document.documentElement.style.setProperty('--primary_color', "{{profile.user_role_frame.config.frame_config.primary_color.color}}");
        document.documentElement.style.setProperty('--primary_color_light', hexToRgb("{{profile.user_role_frame.config.frame_config.primary_color.color}}", 0.1));

        function hexToRgb(hex, opacity){
            let hexColor = hex.charAt(0)=="#" ? hex.substring(1,7):hex;
            R = parseInt(hexColor.substring(0,2),16);
            G = parseInt(hexColor.substring(2,4),16);
            B = parseInt(hexColor.substring(4,6),16); 
            return `rgb(${R}, ${G}, ${B}, ${opacity})`;
        }

        function addChanges(){
                $("tfoot").find(".ui-button-text:contains(Search by)").hide();
                $("tfoot").find(".ui-button-text:not(:contains(Search by))").show();
                $("#zelthytable_previous").find("a").html(`<svg width="5" height="8" viewBox="0 0 5 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M4.34362 0.919211C4.55213 0.708929 4.55213 0.367994 4.34362 0.157712C4.13512 -0.0525706 3.79708 -0.0525706 3.58858 0.157712L0.156375 3.61925C0.130313 3.64553 0.107508 3.67386 0.0879612 3.70372C-0.0488672 3.91272 -0.0260625 4.19675 0.156375 4.38075L3.58858 7.84229C3.79708 8.05257 4.13512 8.05257 4.34362 7.84229C4.55213 7.63201 4.55213 7.29107 4.34362 7.08079L1.28894 4L4.34362 0.919211Z" fill="#1C1E27"/>
                </svg>`);
                $("#zelthytable_next").find("a").html(`<svg width="5" height="8" viewBox="0 0 5 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M0.656375 7.08079C0.447875 7.29107 0.447875 7.63201 0.656375 7.84229C0.864875 8.05257 1.20292 8.05257 1.41142 7.84229L4.84362 4.38075C4.86969 4.35447 4.89249 4.32614 4.91204 4.29628C5.04887 4.08728 5.02606 3.80325 4.84362 3.61925L1.41142 0.157712C1.20292 -0.0525703 0.864875 -0.0525703 0.656375 0.157712C0.447875 0.367994 0.447875 0.708929 0.656375 0.919211L3.71106 4L0.656375 7.08079Z" fill="#1C1E27"/>
                </svg>`);
                $("#zelthytable_previous").attr("data-is-content-changed", true);
            }
        addChanges();
        let order_modal_interval = setInterval(function () {
                addChanges();
                if($("#zelthytable_previous").attr("data-is-content-changed")){
                    clearInterval(order_modal_interval);
                }
            }, 650);
        };
</script>
